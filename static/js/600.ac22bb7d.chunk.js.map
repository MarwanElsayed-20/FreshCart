{"version":3,"file":"static/js/600.ac22bb7d.chunk.js","mappings":"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","sources":["Components/Products/Products.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { ProductContext } from \"../../Context/ProductsContext\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport ComponentCover from \"../ComponentCover/ComponentCover\";\r\nimport Loading from \"../Loading/Loading\";\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\nimport { TokenContext } from \"../../Context/TokenContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CartContext } from \"../../Context/CartContext\";\r\nimport toast from \"react-hot-toast\";\r\nimport { ThreeDots } from \"react-loader-spinner\";\r\nimport { WishListContext } from \"../../Context/WishlistContext\";\r\n\r\nexport default function Products() {\r\n  let [sort, setSort] = useState(false);\r\n  let [loading, setLoading] = useState(false);\r\n  let [wishLoading, setWishLoading] = useState(false);\r\n\r\n  let { data, isLoading } = useContext(ProductContext);\r\n  let { login } = useContext(TokenContext);\r\n  let { addToCart, setCartNum } = useContext(CartContext);\r\n  let { addToWishList, removeWishListProduct, setWishListNum, prod, setProd } =\r\n    useContext(WishListContext);\r\n\r\n  let addToWishListFun = async (productId) => {\r\n    setWishLoading(true);\r\n    let res = await addToWishList(productId);\r\n    setWishLoading(false);\r\n    if (res.status === 200) {\r\n      toast.success(res.data.message);\r\n      setWishListNum(res?.data.data.length);\r\n      setWishLoading(false);\r\n    } else {\r\n      toast.error(res?.response?.data.message);\r\n      setWishLoading(false);\r\n    }\r\n  };\r\n\r\n  let removeWishListProductFun = async (id) => {\r\n    setWishLoading(true);\r\n    let res = await removeWishListProduct(id);\r\n    setWishLoading(false);\r\n    if (res.status === 200) {\r\n      toast.success(res.data.message);\r\n      setWishListNum(res?.data.data.length);\r\n      setWishLoading(false);\r\n    } else {\r\n      toast.error(res.response.data.message);\r\n      setWishLoading(false);\r\n    }\r\n  };\r\n\r\n  let addToCartFunc = async (id) => {\r\n    setLoading(true);\r\n    let res = await addToCart(id);\r\n    if (res.status === 200) {\r\n      toast.success(res.data.message);\r\n      setCartNum(res.data.numOfCartItems);\r\n      setLoading(false);\r\n    } else {\r\n      toast.error(res.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"product\")) {\r\n      setProd(JSON.parse(localStorage.getItem(\"product\")));\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (prod) {\r\n      localStorage.setItem(\"product\", JSON.stringify(prod));\r\n    }\r\n  }, [prod]);\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>Products</title>\r\n      </Helmet>\r\n      <ComponentCover text={\"Products\"} path={\"Products\"} />\r\n      {isLoading ? (\r\n        <Loading />\r\n      ) : (\r\n        <div className=\"my-5 py-5\">\r\n          <div className=\"container text-center py-5\">\r\n            <div className=\"title-info d-flex justify-content-between align-items-center\">\r\n              <div className=\"title d-flex flex-column align-items-start\">\r\n                <h2 className=\"main-color \">All Products</h2>\r\n                <p className=\"text-muted\">About {data.data.results} results</p>\r\n              </div>\r\n              <p className=\"text-muted\">\r\n                Sort by price:\r\n                <button\r\n                  className=\"border-0 rounded-0 p-3 main-bg-color text-white ms-3\"\r\n                  onClick={() => {\r\n                    setSort((current) => !current);\r\n                  }}\r\n                >\r\n                  {sort ? (\r\n                    <i className=\"fa-solid fa-arrow-up-short-wide\"></i>\r\n                  ) : (\r\n                    <i className=\"fa-solid fa-arrow-up-wide-short\"></i>\r\n                  )}\r\n                </button>\r\n              </p>\r\n            </div>\r\n            {data?.data?.data\r\n              ?.sort((a, b) => {\r\n                if (sort) {\r\n                  return a.price - b.price;\r\n                } else {\r\n                  return b.price - a.price;\r\n                }\r\n              })\r\n              .map((product) => (\r\n                <div\r\n                  className=\"shadow my-5 p-3 cursor-pointer single-product\"\r\n                  key={product._id}\r\n                >\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                      <Link to={`/specificProduct/${product.id}`}>\r\n                        <LazyLoadImage\r\n                          src={product.imageCover}\r\n                          className=\"w-100\"\r\n                        />\r\n                      </Link>\r\n                    </div>\r\n                    <div className=\"col-md-8 d-flex justify-content-center flex-column align-items-start p-5 text-start\">\r\n                      <Link to={`/specificProduct/${product.id}`}>\r\n                        <h3 className=\"text-black\">{product.title}</h3>\r\n                        <p className=\"text-black price\">\r\n                          Price:{\" \"}\r\n                          <span className=\"main-color\">\r\n                            {product.price} EGP\r\n                          </span>{\" \"}\r\n                        </p>\r\n                        <p className=\"text-muted\">\r\n                          <i className=\"fa-solid fa-star text-warning me-2\"></i>\r\n                          {`( ${product.ratingsAverage} )`}\r\n                        </p>\r\n                        <p className=\"text-start text-muted\">\r\n                          {product.description}\r\n                        </p>\r\n                      </Link>\r\n                      {login ? (\r\n                        <ul className=\"list-unstyled d-flex align-items-center \">\r\n                          <li\r\n                            className=\"proBtn rounded-circle shadow d-flex align-items-center justify-content-center me-3 cursor-pointer main-color\"\r\n                            onClick={(e) => {\r\n                              addToCartFunc(product._id);\r\n                            }}\r\n                          >\r\n                            {loading ? (\r\n                              <ThreeDots\r\n                                height=\"30\"\r\n                                width=\"30\"\r\n                                radius=\"9\"\r\n                                color=\"#212529bf\"\r\n                                ariaLabel=\"three-dots-loading\"\r\n                                wrapperStyle={{}}\r\n                                wrapperClassName=\"\"\r\n                                visible={true}\r\n                              />\r\n                            ) : (\r\n                              <i className=\"fa-solid fa-cart-shopping\"></i>\r\n                            )}\r\n                          </li>\r\n                          {prod.includes(product.id) ? (\r\n                            <li\r\n                              className=\"proBtn rounded-circle shadow d-flex align-items-center justify-content-center cursor-pointer main-color  bg-danger text-white\"\r\n                              onClick={() => {\r\n                                removeWishListProductFun(product.id);\r\n                                setProd((curr) =>\r\n                                  curr.filter((pro) => pro !== product.id)\r\n                                );\r\n                                console.log(prod);\r\n                              }}\r\n                            >\r\n                              {/* <li\r\n                                className={`${style.iconStyle} cursor-pointer bg-danger`}\r\n                                onClick={() => {\r\n                                  removeWishListProductFun(product.id);\r\n                                  setProd((curr) =>\r\n                                    curr.filter((pro) => pro !== product.id)\r\n                                  );\r\n                                  console.log(prod);\r\n                                }}\r\n                              > */}\r\n                              {wishLoading ? (\r\n                                <ThreeDots\r\n                                  height=\"20\"\r\n                                  width=\"20\"\r\n                                  radius=\"9\"\r\n                                  color=\"#212529bf\"\r\n                                  ariaLabel=\"three-dots-loading\"\r\n                                  wrapperStyle={{}}\r\n                                  wrapperClassName=\"\"\r\n                                  visible={true}\r\n                                />\r\n                              ) : (\r\n                                <i className=\"fa-solid fa-heart \"></i>\r\n                              )}\r\n                            </li>\r\n                          ) : (\r\n                            <li\r\n                              className=\"proBtn rounded-circle shadow d-flex align-items-center justify-content-center cursor-pointer main-color\"\r\n                              onClick={() => {\r\n                                setProd([...prod, product.id]);\r\n                                addToWishListFun(product.id);\r\n                                console.log(prod);\r\n                                localStorage.setItem(\r\n                                  \"product\",\r\n                                  JSON.stringify(prod)\r\n                                );\r\n                              }}\r\n                            >\r\n                              {/* <li\r\n                              className={`${style.iconStyle} cursor-pointer`}\r\n                              onClick={() => {\r\n                                setProd([...prod, product.id]);\r\n                                addToWishListFun(product.id);\r\n                                console.log(prod);\r\n                                localStorage.setItem(\r\n                                  \"product\",\r\n                                  JSON.stringify(prod)\r\n                                );\r\n                              }}\r\n                            > */}\r\n                              {wishLoading ? (\r\n                                <ThreeDots\r\n                                  height=\"20\"\r\n                                  width=\"20\"\r\n                                  radius=\"9\"\r\n                                  color=\"#212529bf\"\r\n                                  ariaLabel=\"three-dots-loading\"\r\n                                  wrapperStyle={{}}\r\n                                  wrapperClassName=\"\"\r\n                                  visible={true}\r\n                                />\r\n                              ) : (\r\n                                <i className=\"fa-regular fa-heart\"></i>\r\n                              )}\r\n                            </li>\r\n                          )}\r\n                          {/* <li className=\"proBtn rounded-circle shadow d-flex align-items-center justify-content-center cursor-pointer main-color\">\r\n                            <i className=\"fa-solid fa-heart \"></i>\r\n                          </li> */}\r\n                        </ul>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":["Products","_data$data","_data$data$data","_useState","useState","_useState2","_slicedToArray","sort","setSort","_useState3","_useState4","loading","setLoading","_useState5","_useState6","wishLoading","setWishLoading","_useContext","useContext","ProductContext","data","isLoading","login","TokenContext","_useContext3","CartContext","addToCart","setCartNum","_useContext4","WishListContext","addToWishList","removeWishListProduct","setWishListNum","prod","setProd","addToWishListFun","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","productId","res","_res$response","wrap","_context","prev","next","sent","status","toast","success","message","length","error","response","stop","_x","apply","arguments","removeWishListProductFun","_ref2","_callee2","id","_context2","_x2","addToCartFunc","_ref3","_callee3","_context3","numOfCartItems","_x3","useEffect","localStorage","getItem","JSON","parse","setItem","stringify","_jsxs","_Fragment","children","Helmet","_jsx","charSet","ComponentCover","text","path","Loading","className","results","onClick","current","a","b","price","map","product","Link","to","concat","LazyLoadImage","src","imageCover","title","ratingsAverage","description","e","_id","ThreeDots","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClassName","visible","includes","curr","filter","pro","console","log","_toConsumableArray"],"sourceRoot":""}
"use strict";(self.webpackChunksession=self.webpackChunksession||[]).push([[389],{8389:function(e,t,s){s.r(t),s.d(t,{default:function(){return N}});var n=s(4165),a=s(5861),c=s(9439),i=s(2791),r=s(4270),l=s(4916),o=s(2),d=s(3926),m=s(7087),u=s(635),x=s(6307),h=s(812),p=s(5780),j={position:"cart_position__9JKnP"},f=s(7689),v=s(184);function N(){var e,t,s,N,g,y=(0,i.useState)(!1),b=(0,c.Z)(y,2),w=b[0],C=b[1],k=(0,i.useState)(!1),Z=(0,c.Z)(k,2),P=Z[0],S=Z[1],L=(0,i.useContext)(o.M).login,_=(0,i.useContext)(d.A),E=_.removeItem,F=_.updateCart,I=_.cartNum,G=_.getCartFun,z=_.isLoading,D=_.cartData,M=_.removeCart,O=_.setCartData,T=_.setCartNum,q=(0,f.s0)(),A=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,s){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===s){e.next=7;break}return C(!0),e.next=4,F(t,s);case 4:a=e.sent,C(!1),200===a.status&&(G(),C(!1));case 7:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),B=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:200===e.sent.status&&G();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,M();case 3:t=e.sent,S(!1),200===t.status&&(O([]),T(0),G(),S(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){L&&D&&G()}),[L]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(r.q,{children:[(0,v.jsx)("meta",{charSet:"utf-8"}),(0,v.jsx)("title",{children:"Shop Cart"})]}),(0,v.jsx)(l.Z,{text:"Shop Cart",path:"Shop Cart"}),z?(0,v.jsx)(h.Z,{}):(0,v.jsx)("div",{className:"container my-5",children:I?(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-8",children:(0,v.jsxs)("div",{className:"div p-3",children:[(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-5",children:(0,v.jsx)("h4",{className:"m-0",children:"Product"})}),(0,v.jsx)("div",{className:"col-md-2 d-flex justify-content-center align-items-center",children:(0,v.jsx)("h4",{className:"m-0",children:"Price"})}),(0,v.jsx)("div",{className:"col-md-3 d-flex justify-content-center align-items-center",children:(0,v.jsx)("h4",{className:"m-0",children:"Quantity"})}),(0,v.jsx)("div",{className:"col-md-2 d-flex justify-content-center align-items-center",children:(0,v.jsx)("h4",{className:"m-0",children:"Total"})})]}),null===D||void 0===D||null===(e=D.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.products.map((function(e){var t,s,n,a,c,i;return(0,v.jsxs)("div",{className:"row py-3 my-3 border-bottom",children:[(0,v.jsx)("div",{className:"col-md-5 d-flex justify-content-center align-items-center",children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsxs)("div",{className:"col-md-4 position-relative",children:[(0,v.jsx)("i",{className:"fa-solid fa-circle-xmark position-absolute text-danger cursor-pointer ".concat(j.position),onClick:function(){B(e.product._id)}}),(0,v.jsx)(m.LazyLoadImage,{src:null===(t=e.product)||void 0===t?void 0:t.imageCover,className:"w-100"})]}),(0,v.jsxs)("div",{className:"col-md-8 p-3",children:[(0,v.jsx)("h5",{children:null===(s=e.product)||void 0===s?void 0:s.title.split(" ").splice(0,2).join(" ")}),(0,v.jsxs)("p",{className:"text-muted m-0",children:["Brand:"," ",(0,v.jsx)("span",{className:"main-color",children:null===(n=e.product)||void 0===n||null===(a=n.brand)||void 0===a?void 0:a.name})]}),(0,v.jsxs)("p",{className:"text-muted m-0",children:["Category:"," ",(0,v.jsx)("span",{className:"main-color",children:null===(c=e.product)||void 0===c||null===(i=c.category)||void 0===i?void 0:i.name})]})]})]})}),(0,v.jsx)("div",{className:"col-md-2 d-flex justify-content-center align-items-center",children:(0,v.jsxs)("p",{className:"m-0 text-muted",children:[e.price," EGP"]})}),(0,v.jsx)("div",{className:"col-md-3 d-flex justify-content-center align-items-center",children:w?(0,v.jsx)(x.g4,{height:"20",width:"20",radius:"9",color:"#212529bf",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0}):(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("p",{className:"m-0 text-muted background-color p-3",children:[(0,v.jsx)("span",{onClick:function(){A(e.product._id,e.count-1)},children:(0,v.jsx)("i",{className:"fa-solid fa-minus me-4 cursor-pointer"})}),e.count,(0,v.jsx)("span",{onClick:function(){A(e.product._id,e.count+1)},children:(0,v.jsx)("i",{className:"fa-solid fa-plus ms-4 cursor-pointer"})})]})})}),(0,v.jsx)("div",{className:"col-md-2 d-flex justify-content-center align-items-center",children:(0,v.jsxs)("p",{className:"m-0 text-muted",children:[Math.round(e.price*e.count)," EGP"]})})]},e._id)})),(0,v.jsx)("button",{type:"submit",className:"btn btn-danger w-100 rounded-0 my-3 d-flex justify-content-center align-items-center",onClick:function(){J()},children:P?(0,v.jsx)(x.g4,{height:"30",width:"80",radius:"9",color:"#212529bf",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0}):"Clear cart"})]})}),(0,v.jsxs)("div",{className:"col-md-4 p-3",children:[(0,v.jsx)("h4",{className:"m-0 text-center",children:"Cart totals"}),(0,v.jsxs)("div",{className:"p-4 my-3 background-color",children:[(0,v.jsxs)("div",{className:"p-2 border-bottom d-flex justify-content-between align-items-center",children:[(0,v.jsx)("p",{className:"m-0",children:"Number of cart items:"}),(0,v.jsx)("p",{className:"m-0",children:null===(s=D.data)||void 0===s?void 0:s.numOfCartItems})]}),(0,v.jsxs)("div",{className:"p-2 my-4 border-bottom d-flex justify-content-between align-items-center",children:[(0,v.jsx)("p",{className:"m-0",children:"Total:"}),(0,v.jsxs)("p",{className:"m-0",children:[null===(N=D.data)||void 0===N||null===(g=N.data)||void 0===g?void 0:g.totalCartPrice," EGP"]})]}),(0,v.jsxs)("p",{className:"text-muted text-center my-4",children:[(0,v.jsx)("i",{className:"fa-solid fa-circle-check main-color fa-sm"})," ","Shipping & taxes calculated at checkout"]}),(0,v.jsx)("div",{className:"mb-3",children:(0,v.jsx)(u.Z,{text:"Proceed to checkout ( Online )",width:"w-100",type:"submit",fun:function(){q("/checkout")}})}),(0,v.jsx)("div",{children:(0,v.jsx)(u.Z,{text:"Proceed to checkout ( Cash )",width:"w-100",type:"submit",fun:function(){q("/checkoutCash")}})})]})]})]})}):(0,v.jsx)(m.LazyLoadImage,{src:p,alt:"empty-cart",className:"w-100"})})]})}},5780:function(e,t,s){e.exports=s.p+"static/media/preview.5fb1161d4ca5695646ac.png"}}]);
//# sourceMappingURL=389.65d6dd90.chunk.js.map
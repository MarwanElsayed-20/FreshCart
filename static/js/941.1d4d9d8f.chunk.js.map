{"version":3,"file":"static/js/941.1d4d9d8f.chunk.js","mappings":"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","sources":["Components/Wishlist/Wishlist.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport ComponentCover from \"../ComponentCover/ComponentCover\";\r\nimport { TokenContext } from \"../../Context/TokenContext\";\r\nimport { WishListContext } from \"../../Context/WishlistContext\";\r\nimport { CartContext } from \"../../Context/CartContext\";\r\nimport toast from \"react-hot-toast\";\r\nimport Loading from \"../Loading/Loading\";\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\nimport MainBtn from \"../MainBtn/MainBtn\";\r\nimport { ThreeDots } from \"react-loader-spinner\";\r\n\r\nimport emptyCartImg from \"../../Assets/preview.png\";\r\n\r\nexport default function Wishlist() {\r\n  let [btnLoading, setBtnLoading] = useState(false);\r\n\r\n  let { login } = useContext(TokenContext);\r\n  let {\r\n    removeWishListProduct,\r\n    wishListData,\r\n    getWishListFun,\r\n    wishListNum,\r\n    loading,\r\n    setProd,\r\n    prod,\r\n  } = useContext(WishListContext);\r\n  let { addToCart, setCartNum } = useContext(CartContext);\r\n\r\n  let removeWishListProductFun = async (id) => {\r\n    let res = await removeWishListProduct(id);\r\n    if (res.status === 200) {\r\n      getWishListFun();\r\n      toast.success(res.data.message);\r\n    } else {\r\n      toast.error(res?.response?.data.message);\r\n    }\r\n  };\r\n\r\n  let addToCartFunc = async (id) => {\r\n    setBtnLoading(true);\r\n    let res = await addToCart(id);\r\n    if (res.status === 200) {\r\n      toast.success(res.data.message);\r\n      setCartNum(res.data.numOfCartItems);\r\n      setBtnLoading(false);\r\n    } else {\r\n      toast.error(res.response.data.message);\r\n      setBtnLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!login) return;\r\n    getWishListFun();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!login) return;\r\n    getWishListFun();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [login]);\r\n\r\n  useEffect(() => {\r\n    if (prod) {\r\n      localStorage.setItem(\"product\", JSON.stringify(prod));\r\n    }\r\n  }, [prod]);\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>Wish list</title>\r\n      </Helmet>\r\n      <ComponentCover text={\"Wish list\"} path={\"Wish list\"} />\r\n      {loading ? (\r\n        <Loading />\r\n      ) : (\r\n        <div className=\"my-5 container\">\r\n          {wishListNum ? (\r\n            <>\r\n              {\" \"}\r\n              <h3 className=\"my-4 fw-bold me-2 d-inline-block\">My wishlist </h3>\r\n              <span className=\"text-muted\">( {wishListData.length} )</span>\r\n              {wishListData.map((product) => (\r\n                <div\r\n                  className=\"row align-items-center  py-3 border-bottom\"\r\n                  key={product._id}\r\n                >\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-5\">\r\n                        <LazyLoadImage\r\n                          src={product.imageCover}\r\n                          className=\"w-100\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-7 p-3 d-flex flex-column justify-content-center\">\r\n                        <h5>\r\n                          {product.title.split(\" \").splice(0, 2).join(\" \")}\r\n                        </h5>\r\n                        <p className=\"text-muted m-0\">\r\n                          Brand:{\" \"}\r\n                          <span className=\"main-color\">\r\n                            {product.brand?.name}\r\n                          </span>\r\n                        </p>\r\n                        <p className=\"text-muted m-0\">\r\n                          Category:{\" \"}\r\n                          <span className=\"main-color\">\r\n                            {product.category?.name}\r\n                          </span>\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-2 p-2 d-flex justify-content-center\">\r\n                    <p className=\"m-0 text-muted\">{product.price} EGP</p>\r\n                  </div>\r\n                  <div className=\"col-md-4 p-2 d-flex justify-content-center\">\r\n                    <MainBtn\r\n                      text={\r\n                        btnLoading ? (\r\n                          <ThreeDots\r\n                            height=\"30\"\r\n                            width=\"80\"\r\n                            radius=\"9\"\r\n                            color=\"#212529bf\"\r\n                            ariaLabel=\"three-dots-loading\"\r\n                            wrapperStyle={{}}\r\n                            wrapperClassName=\"\"\r\n                            visible={true}\r\n                          />\r\n                        ) : (\r\n                          `Add to cart`\r\n                        )\r\n                      }\r\n                      fun={addToCartFunc}\r\n                      id={product._id}\r\n                    ></MainBtn>\r\n                  </div>\r\n                  <div className=\"col-md-2 p-3 d-flex justify-content-center\">\r\n                    <i\r\n                      className=\"fa-solid fa-trash-can cursor-pointer\"\r\n                      onClick={() => {\r\n                        removeWishListProductFun(product.id);\r\n                        setProd((curr) =>\r\n                          curr.filter((pro) => pro !== product.id)\r\n                        );\r\n                      }}\r\n                    ></i>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </>\r\n          ) : (\r\n            <LazyLoadImage\r\n              src={emptyCartImg}\r\n              alt=\"empty-cart\"\r\n              className=\"w-100\"\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":["Wishlist","_useState","useState","_useState2","_slicedToArray","btnLoading","setBtnLoading","login","useContext","TokenContext","_useContext2","WishListContext","removeWishListProduct","wishListData","getWishListFun","wishListNum","loading","setProd","prod","_useContext3","CartContext","addToCart","setCartNum","removeWishListProductFun","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","res","_res$response","wrap","_context","prev","next","sent","status","toast","success","data","message","error","response","stop","_x","apply","arguments","addToCartFunc","_ref2","_callee2","_context2","numOfCartItems","_x2","useEffect","localStorage","setItem","JSON","stringify","_jsxs","_Fragment","children","Helmet","_jsx","charSet","ComponentCover","text","path","Loading","className","length","map","product","_product$brand","_product$category","LazyLoadImage","src","imageCover","title","split","splice","join","brand","name","category","price","MainBtn","ThreeDots","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClassName","visible","fun","_id","onClick","curr","filter","pro","emptyCartImg","alt"],"sourceRoot":""}
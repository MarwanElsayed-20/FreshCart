{"version":3,"file":"static/js/712.20bd1978.chunk.js","mappings":"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","sources":["Components/Login/Login.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport ComponentCover from \"../ComponentCover/ComponentCover\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport MainBtn from \"../MainBtn/MainBtn\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport { TokenContext } from \"../../Context/TokenContext\";\r\nimport { ThreeDots } from \"react-loader-spinner\";\r\n\r\nexport default function Login() {\r\n  let [loading, setLoading] = useState(false);\r\n  let [error, setError] = useState(\"\");\r\n\r\n  let { login, setLogin, setUserName } = useContext(TokenContext);\r\n\r\n  let navigate = useNavigate();\r\n  let baseUrl = \"https://ecommerce.routemisr.com\";\r\n\r\n  let submitForm = async (values) => {\r\n    setLoading(true);\r\n    let { data } = await axios\r\n      .post(`${baseUrl}/api/v1/auth/signin`, values)\r\n      .catch((err) => {\r\n        setError(err.response.data.message);\r\n        setLoading(false);\r\n      });\r\n\r\n    if (data.message === \"success\") {\r\n      window.location.reload();\r\n      setError(\"\");\r\n      localStorage.setItem(\"userToken\", data.token);\r\n      localStorage.setItem(\"userName\", data.user.name);\r\n      setLogin(data.token);\r\n      setUserName(data.user.name);\r\n      navigate(\"/\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    email: Yup.string()\r\n      .required(\"Email is required\")\r\n      .email(\"Email is not valid\"),\r\n    password: Yup.string().required(\"Password is required\"),\r\n  });\r\n\r\n  let formik = useFormik({\r\n    initialValues: {\r\n      email: \"\",\r\n      password: \"\",\r\n    },\r\n    validationSchema,\r\n    onSubmit: submitForm,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!login) return;\r\n  }, [login]);\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>Login</title>\r\n      </Helmet>\r\n      <ComponentCover text={\"My Account\"} path={\"Login\"} />\r\n      <div className=\"w-75 m-auto shadow text-center my-5 p-5\">\r\n        <h3>Login</h3>\r\n        <p className=\"text-muted\">Please login using account details bellow.</p>\r\n        <form\r\n          onSubmit={formik.handleSubmit}\r\n          action=\"\"\r\n          className=\"d-flex justify-content-center align-items-center flex-column\"\r\n        >\r\n          {error ? (\r\n            <p className=\"alert alert-danger rounded-0 w-100\">{error}.</p>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control mb-3 rounded-0\"\r\n            placeholder=\"Email address\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            onChange={formik.handleChange}\r\n            value={formik.values.email}\r\n            onBlur={formik.handleBlur}\r\n          />\r\n          {formik.errors.email && formik.touched.email ? (\r\n            <p className=\"alert alert-danger mt-0 rounded-0 w-100\">\r\n              {formik.errors.email}\r\n            </p>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control mb-3 rounded-0\"\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            onChange={formik.handleChange}\r\n            value={formik.values.password}\r\n            onBlur={formik.handleBlur}\r\n          />\r\n          {formik.errors.password && formik.touched.password ? (\r\n            <p className=\"alert alert-danger mt-0 rounded-0 w-100\">\r\n              {formik.errors.password}\r\n            </p>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Link to=\"/forgotPassword\" className=\"mb-3 text-muted login\">\r\n            Forgot your password?\r\n          </Link>\r\n          <MainBtn\r\n            text={\r\n              loading ? (\r\n                <ThreeDots\r\n                  height=\"30\"\r\n                  width=\"80\"\r\n                  radius=\"9\"\r\n                  color=\"#212529bf\"\r\n                  ariaLabel=\"three-dots-loading\"\r\n                  wrapperStyle={{}}\r\n                  wrapperClassName=\"\"\r\n                  visible={true}\r\n                />\r\n              ) : (\r\n                \"Login\"\r\n              )\r\n            }\r\n            width={\"w-100\"}\r\n            type={\"submit\"}\r\n          />\r\n          <Link to=\"/register\" className=\"mt-3 text-muted login\">\r\n            Don't have an account? Create account.\r\n          </Link>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":["Login","_useState","useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","error","setError","_useContext","useContext","TokenContext","login","setLogin","setUserName","navigate","useNavigate","submitForm","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","_yield$axios$post$cat","data","wrap","_context","prev","next","axios","post","concat","catch","err","response","message","sent","window","location","reload","localStorage","setItem","token","user","name","stop","_x","apply","arguments","validationSchema","Yup","email","required","password","formik","useFormik","initialValues","onSubmit","useEffect","_jsxs","_Fragment","children","Helmet","_jsx","charSet","ComponentCover","text","path","className","handleSubmit","action","type","placeholder","id","onChange","handleChange","value","onBlur","handleBlur","errors","touched","Link","to","MainBtn","ThreeDots","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClassName","visible"],"sourceRoot":""}
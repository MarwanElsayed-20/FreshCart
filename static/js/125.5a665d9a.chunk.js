"use strict";(self.webpackChunksession=self.webpackChunksession||[]).push([[125],{6125:function(e,a,s){s.r(a),s.d(a,{default:function(){return x}});var r=s(4165),t=s(5861),n=s(9439),l=s(2791),o=s(4270),i=s(4916),d=s(5705),c=s(6727),u=s(635),m=s(6307),w=s(1243),h=s(7689),p=s(184);function x(){var e=(0,l.useState)(""),a=(0,n.Z)(e,2),s=a[0],x=a[1],f=(0,l.useState)(!1),j=(0,n.Z)(f,2),g=j[0],v=j[1],N=(0,l.useState)(!1),b=(0,n.Z)(N,2),P=b[0],Z=b[1],C=(0,h.s0)(),S=function(){var e=(0,t.Z)((0,r.Z)().mark((function e(a){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.next=3,w.Z.put("".concat("https://ecommerce.routemisr.com","/api/v1/auth/resetPassword"),a).catch((function(e){x(e.response.data.message),Z(!1)}));case 3:s=e.sent,s.data.token&&(x(""),v(!0),setTimeout((function(){v(!1),C("/login")}),3e3),Z(!1));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),y=c.Ry({email:c.Z_().required("Email is required").email("Email is not valid"),newPassword:c.Z_().required("New password is required").matches(/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{8,})/,"Your password must contain a special character, a number,and a capital character")}),k=(0,d.TA)({initialValues:{email:"",newPassword:""},validationSchema:y,onSubmit:S});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(o.q,{children:[(0,p.jsx)("meta",{charSet:"utf-8"}),(0,p.jsx)("title",{children:"Create New Password"})]}),(0,p.jsx)(i.Z,{text:"Create new password",path:"Create new password"}),(0,p.jsxs)("div",{className:"w-75 m-auto shadow text-center my-5 p-5",children:[(0,p.jsx)("h3",{children:"Create New Password"}),(0,p.jsx)("p",{className:"text-muted",children:"Please create new password"}),(0,p.jsxs)("form",{onSubmit:k.handleSubmit,action:"",className:"d-flex justify-content-center align-items-center flex-column",children:[s?(0,p.jsxs)("p",{className:"alert alert-danger rounded-0 w-100",children:[s,"."]}):"",g?(0,p.jsx)("p",{className:"alert alert-success rounded-0 w-100",children:"Your Password changed successfully."}):"",(0,p.jsx)("input",{type:"email",className:"form-control mb-3 rounded-0",placeholder:"Your email",name:"email",id:"email",onChange:k.handleChange,value:k.values.email,onBlur:k.handleBlur}),k.errors.email&&k.touched.email?(0,p.jsx)("p",{className:"alert alert-danger mt-0 rounded-0 w-100",children:k.errors.email}):"",(0,p.jsx)("input",{type:"password",className:"form-control mb-3 rounded-0",placeholder:"New password",name:"newPassword",id:"newPassword",onChange:k.handleChange,value:k.values.newPassword,onBlur:k.handleBlur}),k.errors.newPassword&&k.touched.newPassword?(0,p.jsx)("p",{className:"alert alert-danger mt-0 rounded-0 w-100",children:k.errors.newPassword}):"",(0,p.jsx)(u.Z,{text:P?(0,p.jsx)(m.g4,{height:"30",width:"80",radius:"9",color:"#212529bf",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0}):"Submit",width:"w-100",type:"submit"})]})]})]})}}}]);
//# sourceMappingURL=125.5a665d9a.chunk.js.map